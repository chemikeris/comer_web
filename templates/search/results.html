{% extends 'base.html' %}
{% block content %}
{% load static %}
<h1>COMER results</h1>
{{ results|json_script:"raw_results" }}
<script>const results = JSON.parse(document.getElementById('raw_results').textContent);</script>
<p>Results for {{ input_name }}, input was a <a href="{% url 'detailed_show_input' job_id=job.name sequence_no=sequence_no %}">{{ input_description }}{{ input_format }}</a>.</p>

<form method="post">{% csrf_token %}
<h2>Results summary</h2>
<div id="schematic_sequences"></div>
<h2>Results table</h2>
<p>
    <input type="hidden" name="job_id" value="{{ job.name }}">
    <label for="id_modeller_key">MODELLER key:</label><input type="text" name="modeller_key" id="id_modeller_key">
    <input type="hidden" name="sequence_no" value="{{ sequence_no }}">
    <input type="submit" formaction="{% url 'submit_single_template_structure_model' %}" name="model" value="Model structure (single-template)">
    <input type="submit" formaction="{% url 'submit_multiple_templates_structure_model' %}" name="model" value="Model structure (multi-template)">
    <input type="submit" formaction="{% url 'submit_msa' %}" name="msa" value="Create MSA">
</p>
<div id="results_table"></div>
<h2>Alignments</h2>
<div id="alignments"></div>
</form>
<script src="{% static 'js/search/results.js' %}"></script>

{% endblock %}
